$schema: "https://json-schema.org/draft/2020-12/schema"
type: object
required: [version, labels, projects]
properties:
  version: { type: string }
  labels:
    type: array
    items:
      type: object
      required: [id, text, emoji]
      properties:
        id: { type: string, pattern: "^[a-z0-9_\\-]+$" }
        text: { type: string }
        emoji: { type: string, minLength: 1 }
  projects:
    type: array
    items:
      type: object
      required: [id, name, emoji, type, repo, archives]
      properties:
        id: { type: string, pattern: "^[a-z0-9_\\-]+$" }
        name: { type: string }
        emoji: { type: string, minLength: 1 }
        type: { enum: ["template", "sandbox", "case", "tooling", "ledger"] }
        repo: { type: string, format: uri }
        orbit: { type: string }   # <â€” optional grouping key (Core Systems, Delivery & Insight, etc.)
        archives:
          type: array
          items:
            type: object
            required: [date, tag, path]
            properties:
              date: { type: string, pattern: "^[0-9]{4}-[0-9]{2}-[0-9]{2}$" }
              tag: { type: string }
              path: { type: string }
              kpis: { type: object, additionalProperties: { type: number } }
              labels: { type: array, items: { type: string } }
